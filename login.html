<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./assets//css//style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.7.0/fonts/remixicon.css" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600;700&display=swap" rel="stylesheet" />
</head>

<body>
    <div class="loginodal"> <!-- Corrected class name -->

        <div class="modal-content">
        
            <div class="loginCON">
    
                <form action="">
    
                    <div class="sheader">
                        <h1>Login</h1>
                        <P>sign up with ur email address you used in joining the organization</P>
                    </div>
    
                    <div class="rel">
                        <span class="icone"><i class="ri-mail-line"></i></span> <input id="loginEmail" type="text" placeholder="Email"> 
                    </div>
    
                    <div class="rel">
                        <span class="icone"><i class="ri-key-2-line"></i></span> <input id="loginPassword" type="password" placeholder="Password">
                    </div>
    
                    <section>
                        <div class="agree">
                            <input class="check" type="checkbox" name="" id=""> 
                            <h6>Agree with terms and conditions</h6>
                            <a href="./reset.html"> forgotten password</a>
                        </div>
    
                        <div class="btn">
                            <button class="btnn" onclick="login()" type="submit">Login</button>
                        </div>
                    </section>
    
                    <span class="or"> <span class="r"></span> <span class="r"></span></span>
                    <div class="socialmedia"> <span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 48 48"><path fill="#FFC107" d="M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917"/><path fill="#FF3D00" d="m6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691"/><path fill="#4CAF50" d="M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238A11.91 11.91 0 0 1 24 36c-5.202 0-9.619-3.317-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44"/><path fill="#1976D2" d="M43.611 20.083H42V20H24v8h11.303a12.04 12.04 0 0 1-4.087 5.571l.003-.002l6.19 5.238C36.971 39.205 44 34 44 24c0-1.341-.138-2.65-.389-3.917"/></svg>
                    </span></div>
                    <h6 class="regg">  Don't have an account? <span><a href="./signup.html">signup</a></span></h6>
                </form>
            </div>
        </div>
    </div>

    <!-- Add these scripts at the bottom of your body section -->
    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script>
        function login() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            const users = JSON.parse(localStorage.getItem('users')) || [];

            if (!email) {
                showToast('Please enter your email.', 'error');
                return;
            }

            // Validate if the password is empty
            if (!password) {
                showToast('Please enter your password.', 'error');
                return;
            }

            const user = users.find(u => u.email === email && u.password === password);

            if (user) {
                showToast('Login successful!', 'success');
                // Redirect to the welcome page after successful login
                window.location.href = 'userP.html';
            } else {
                showToast('Invalid email or password. Please try again or sign up.', 'error');
            }
        }

        function showToast(message, type) {
            Toastify({
                text: message,
                duration: 3000,
                close: true,
                gravity: 'top', // 'top' or 'bottom'
                position: 'right', // 'left', 'center' or 'right'
                backgroundColor: type === 'error' ? '#FF4C4C' : '#4CAF50', // red for error, green for success

                style: {
                'margin-top': '5rem',
            },
            }).showToast();

            
        }
    </script>
</body>
</html>
